---
title: "AWS"
date: 2026-02-25
categories: [AWS]
tags: [AWS]
---

Note - Not every resource is present in all the regions

## IAM

refers to Identity Access Management.

### A bit on Root Account

Root account has the most access. It shouldn't be used because of the following reasons:
1. If compromised, the attacker gains the root access
2. Root account can delete anything even though it's not intended

### Policy

Policy is a set of rules in JSON that defines what actions are allowed on what resources. Policies
can be inbuilt(from AWS), or you can define your own policies.

### Users and Groups

Users on AWS in general have a one-to-one mapping with a physical user.
Groups contains users. It does not contain other groups.

You attach policies to users and groups to give them access to resources.

### Password Policy and MFA

Admin can enforce password policy(min length, special char should be present and so on) and MFA for
all the users to enhance security.

### IAM Roles for Services

When you want the EC2 machine that you provisioned to have access to S3, how do you achieve that?
Never ever add your user credentials to the EC2 machine. Other users who has access to EC2 will be
able to pull the credentials. Use "IAM service role", it's like creating a user for that machine.
Attach appropriate policies to that service role to give access to S3.

### Credentials Report and Access Reports

Creds Report - A downloadable report that lists all IAM users in an AWS account and the status of their credentials (passwords, access keys, MFA, etc).
Access Report - A report that shows which AWS services an IAM user, group, or role has accessed.

## EC2

EC2 refers to Elastic Compute Cloud. AWS provides compute that can be used to run workloads.

### EC2 Instance Types

**General Purpose - T and M series** - For general purpose workloads
**Compute Optimized - C series** - Batch Processing, Media Transcoding, Game Servers
**Memory Optimized - R series** - Cache Stores, In-memory dbs
**Storage Optimized - I series** - Databases, or anything that require high I/O

## Security Groups

Security Groups are traffic rules that you can define on services present inside VPC. It can be used to control inbound and outbound traffic on the following variables:
1. Access to ports
2. Protocol
3. IPs

Security Groups are stateful, if the traffic has passed the SG check from one side, it will come back as well.

## Purchasing Options - EC2

1. On-Demand - Pay by Usage
2. Reserved - Reserve the instance for a year or 3. Cheaper than on-demand.
3. Savings - Instead of reserving a Instance type, you guarantee to spend $k/hr for a year or 3. All the computes are available at discounted rates. You pay 1yr X 365 X 24 X "5" for compute. If you go above, you pay additional charges but if go below the promised spend, you don't get any refunds.
4. Dedicated - If you want to rent entire physical machine
5. Capacity Reservation - Guarantees instance availability in a specific AZ, but does not provide any cost discount.
6. Spot - Provides heavy discount on instances but doesn't guarantee availability

### A bit on Spot Instances

Request Types:

1. One-time - If the spot goes down, AWS won't spawn the spot again.
2. Persistent - Opposite of one-time.

Buying Options:

1. On Demand - The current price of the spot 
2. Max Price - Max price you are willing to pay for the spot. If the on-demand price of spot goes above that, spot will be terminated for you.

Strategies:

1. Lowest Price - Just pick the lowest price machines
2. Diversified - Pick from multiple instance types
3. Capacity Optimized - Pool with most instances
4. Price-Capacity Optimized - Balance bw capacity and price
